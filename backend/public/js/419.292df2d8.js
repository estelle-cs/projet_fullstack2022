"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[419],{419:function(n,e,l){l.r(e),l.d(e,{default:function(){return O}});var t=l(3396);const i=n=>((0,t.dD)("data-v-31f8c2db"),n=n(),(0,t.Cn)(),n),s={class:"signinPage"},a={class:"signinForm"},r=i((()=>(0,t._)("h1",null,"Inscription",-1)));function o(n,e,l,i,o,m){const u=(0,t.up)("SigninForm");return(0,t.wg)(),(0,t.iD)("div",s,[(0,t._)("div",a,[r,(0,t.Wm)(u)])])}var m=l(9242);const u=n=>((0,t.dD)("data-v-fff6497a"),n=n(),(0,t.Cn)(),n),d={key:0,class:"alert"},p={key:1,class:"alert",id:"wrongMdp"},g={key:2,class:"alert",id:"wrongEmail"},c={key:3,class:"alert",id:"existingEmail"},h=u((()=>(0,t._)("br",null,null,-1))),w=u((()=>(0,t._)("label",{for:"name"},"Nom",-1))),_=u((()=>(0,t._)("br",null,null,-1))),f=u((()=>(0,t._)("br",null,null,-1))),y=u((()=>(0,t._)("label",{for:"surname"},"Prénom",-1))),b=u((()=>(0,t._)("br",null,null,-1))),k=u((()=>(0,t._)("br",null,null,-1))),v=u((()=>(0,t._)("label",{for:"login"},"Adresse email",-1))),I=u((()=>(0,t._)("br",null,null,-1))),E=u((()=>(0,t._)("br",null,null,-1))),C=u((()=>(0,t._)("label",{for:"mdp"},"Mot de passe",-1))),D=u((()=>(0,t._)("br",null,null,-1))),V=u((()=>(0,t._)("br",null,null,-1))),x=u((()=>(0,t._)("label",{for:"mdp2"},"Répétez le mot de passe",-1))),M=u((()=>(0,t._)("br",null,null,-1))),S=u((()=>(0,t._)("br",null,null,-1))),q=u((()=>(0,t._)("br",null,null,-1)));function U(n,e,l,i,s,a){const r=(0,t.up)("RouterLink");return(0,t.wg)(),(0,t.iD)(t.HY,null,[s.emptyInput?((0,t.wg)(),(0,t.iD)("span",d,"Veuillez remplir tous les champs")):(0,t.kq)("",!0),s.wrongMdp?((0,t.wg)(),(0,t.iD)("span",p,"Les mots de passe ne sont pas identiques")):(0,t.kq)("",!0),s.wrongEmail?((0,t.wg)(),(0,t.iD)("span",g,"L'adresse e-mail n'est pas valide")):(0,t.kq)("",!0),s.existingEmail?((0,t.wg)(),(0,t.iD)("span",c,"Cette adresse e-mail existe déjà")):(0,t.kq)("",!0),h,w,_,(0,t.wy)((0,t._)("input",{type:"text",name:"name",id:"name","onUpdate:modelValue":e[0]||(e[0]=n=>s.name=n)},null,512),[[m.nr,s.name]]),f,y,b,(0,t.wy)((0,t._)("input",{type:"text",name:"surname",id:"surname","onUpdate:modelValue":e[1]||(e[1]=n=>s.surname=n),required:""},null,512),[[m.nr,s.surname]]),k,v,I,(0,t.wy)((0,t._)("input",{type:"email",name:"login",id:"login","onUpdate:modelValue":e[2]||(e[2]=n=>s.login=n)},null,512),[[m.nr,s.login]]),E,C,D,(0,t.wy)((0,t._)("input",{type:"password",name:"mdp",id:"mdp","onUpdate:modelValue":e[3]||(e[3]=n=>s.mdp=n)},null,512),[[m.nr,s.mdp]]),V,x,M,(0,t.wy)((0,t._)("input",{type:"password",name:"mdp2",id:"mdp2","onUpdate:modelValue":e[4]||(e[4]=n=>s.mdp2=n)},null,512),[[m.nr,s.mdp2]]),S,(0,t._)("button",{type:"submit",onClick:e[5]||(e[5]=n=>this.checkInfos())},"S'inscrire"),q,(0,t.Wm)(r,{class:"link",to:"/login"},{default:(0,t.w5)((()=>[(0,t.Uk)("Vous avez déjà un compte ? Connnectez-vous !")])),_:1})],64)}l(7658);var j={name:"SigninForm",data(){return{name:"",surname:"",login:"",mdp:"",mdp2:"",emptyInput:!1,wrongMdp:!1,wrongEmail:!1,existingEmail:!1}},methods:{async checkInfos(){this.emptyInput=!1,this.wrongMdp=!1,this.wrongEmail=!1,""!=this.name&&""!=this.surname&&""!=this.login&&""!=this.mdp&&""!=this.mdp2||(this.emptyInput=!0),this.mdp!=this.mdp2&&(this.wrongMdp=!0);let n=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;0==n.test(this.login)&&(this.wrongEmail=!0),0==this.emptyInput&&0==this.wrongMdp&&0==this.wrongEmail&&this.signIn()},async signIn(){fetch("/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.name,surname:this.surname,login:this.login,mdp:this.mdp})}).then((n=>{500==n.json().status?this.existingEmail=!0:this.$router.push("/login")}))}}},z=l(89);const F=(0,z.Z)(j,[["render",U],["__scopeId","data-v-fff6497a"]]);var L=F,P={name:"SigninView",components:{SigninForm:L}};const N=(0,z.Z)(P,[["render",o],["__scopeId","data-v-31f8c2db"]]);var O=N}}]);
//# sourceMappingURL=419.292df2d8.js.map